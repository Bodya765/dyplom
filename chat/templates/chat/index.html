{% extends 'base.html' %}
{% load static %}

{% block content %}
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—ó —á–∞—Ç–∏</title>
    <link rel="stylesheet" href="{% static 'chat/css/styles.css' %}">
</head>
<body>
    <div class="chat-app">
        <!-- –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (—Å–ø–∏—Å–æ–∫ —á–∞—Ç—ñ–≤) -->
        <div class="chat-sidebar">
            <div class="sidebar-header">
                <h1>–ú–æ—ó —á–∞—Ç–∏</h1>
                <div class="user-controls">
                    <span class="username">{{ request.user.username }}</span>
                </div>
            </div>

            <div class="search-container">
                <input type="text" id="searchInput" placeholder="–ü–æ—à—É–∫ —á–∞—Ç—É..." oninput="filterChatList(this.value)">
            </div>

            <div class="chat-list" id="chatList">
                <div class="chat-list-loading">
                    –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤...
                </div>
            </div>
        </div>

        <div class="chat-main empty-state">
            <div class="empty-state-content">
                <div class="empty-state-icon">üí¨</div>
                <h2>–í–∏–±–µ—Ä—ñ—Ç—å —á–∞—Ç –∑—ñ —Å–ø–∏—Å–∫—É –∞–±–æ –ø–æ—á–Ω—ñ—Ç—å –Ω–æ–≤–∏–π</h2>
                <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —á–∞—Ç –∑–ª—ñ–≤–∞, —â–æ–± –ø–æ—á–∞—Ç–∏ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è</p>
            </div>
        </div>
    </div>
    <script>
        const currentUserId = {{ user_id|default:request.user.id }};
        document.addEventListener('DOMContentLoaded', function() {
            connectToChatList();
            loadChatList();
            setInterval(loadChatList, 30000);
        });
    </script>
</body>
</html>
{% endblock %}